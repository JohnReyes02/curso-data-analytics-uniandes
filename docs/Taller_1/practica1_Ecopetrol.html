<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Sesión 1: Analítica descriptiva de datos – Análisis Exploratorio de Datos en Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Taller_2/practica2_Ecopetrol_v1.html" rel="next">
<link href="../index.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-5e8cc9216a41cce6523c7b1d157767ec.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-7fdf8adc87078268c1c941beff8fc26f.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-5e8cc9216a41cce6523c7b1d157767ec.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Taller_1/practica1_Ecopetrol.html">Sesiones</a></li><li class="breadcrumb-item"><a href="../Taller_1/practica1_Ecopetrol.html"><span class="chapter-title">Sesión 1: Analítica descriptiva de datos</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Análisis Exploratorio de Datos en Python</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Sesiones</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Taller_1/practica1_Ecopetrol.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Sesión 1: Analítica descriptiva de datos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Taller_2/practica2_Ecopetrol_v1.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Sesión 2: Transformación y aseguramiento de calidad</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Taller_2/ReadMe.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Readme</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Taller_3/practica3_Ecopetrol.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Sesión 3: Analítica avanzada</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contenido</h2>
   
  <ul>
  <li><a href="#preparación-del-ambiente-de-trabajo" id="toc-preparación-del-ambiente-de-trabajo" class="nav-link active" data-scroll-target="#preparación-del-ambiente-de-trabajo">Preparación del ambiente de trabajo</a></li>
  <li><a href="#lectura-de-los-datos" id="toc-lectura-de-los-datos" class="nav-link" data-scroll-target="#lectura-de-los-datos">Lectura de los datos</a></li>
  <li><a href="#vamos-a-revisar-lo-que-hemos-aprendido-hasta-acá" id="toc-vamos-a-revisar-lo-que-hemos-aprendido-hasta-acá" class="nav-link" data-scroll-target="#vamos-a-revisar-lo-que-hemos-aprendido-hasta-acá">Vamos a revisar lo que hemos aprendido hasta acá</a>
  <ul class="collapse">
  <li><a href="#ahora-vamos-a-analizar-las-variables-categóricas" id="toc-ahora-vamos-a-analizar-las-variables-categóricas" class="nav-link" data-scroll-target="#ahora-vamos-a-analizar-las-variables-categóricas">Ahora vamos a analizar las variables categóricas</a></li>
  </ul></li>
  <li><a href="#análisis-bivariado-variables-continuas-vs-variables-categóricas" id="toc-análisis-bivariado-variables-continuas-vs-variables-categóricas" class="nav-link" data-scroll-target="#análisis-bivariado-variables-continuas-vs-variables-categóricas">Análisis bivariado (Variables continuas vs Variables categóricas)</a></li>
  <li><a href="#bonus-track" id="toc-bonus-track" class="nav-link" data-scroll-target="#bonus-track">Bonus track</a>
  <ul class="collapse">
  <li><a href="#estadísticas-básicas" id="toc-estadísticas-básicas" class="nav-link" data-scroll-target="#estadísticas-básicas">📊 Estadísticas básicas</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Taller_1/practica1_Ecopetrol.html">Sesiones</a></li><li class="breadcrumb-item"><a href="../Taller_1/practica1_Ecopetrol.html"><span class="chapter-title">Sesión 1: Analítica descriptiva de datos</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Sesión 1: Analítica descriptiva de datos</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Esta primera práctica se realizará sobre los datos obtenidos de la página https://insideairbnb.com/ <br> para la ciudad de Albany</p>
<section id="preparación-del-ambiente-de-trabajo" class="level3">
<h3 class="anchored" data-anchor-id="preparación-del-ambiente-de-trabajo">Preparación del ambiente de trabajo</h3>
<section id="cargue-de-librerías" class="level4">
<h4 class="anchored" data-anchor-id="cargue-de-librerías">Cargue de librerías</h4>
<p>Antes de realizar un análisis, se debe verificar que se cuenta con las librerías requeridas intaladas. <br> En este taller iniciamos con las librerías básicas. <br> Sin embargo, en cualquier momento se puede realizar la instalación y cargue de una nueva librería. <br> Para la instalación de una nueva librería puede utilizar el comando ‘conda install’ de Anaconda.</p>
<div id="cell-4" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os, sys</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre></div>
</div>
</section>
</section>
<section id="lectura-de-los-datos" class="level3">
<h3 class="anchored" data-anchor-id="lectura-de-los-datos">Lectura de los datos</h3>
<p>Lectura desde carpeta local de un archivo en formato csv <br> Ingrese a la carpeta compartida en Onedrive TALLER 1 y descargue los archivos: listings.csv y listings.xlsx <br> Configuración del directorio: <br> 1. Copie la ruta en donde guardó el archivo</p>
<div id="cell-6" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Copie la ruta despues del comando %cd</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># %cd C:\Users\X1 Carbon\OneDrive\Documentos\1_NEICON\1_Proyectos\2_Carpeta Tito\Capacitación UniAndes_Ecopetrol\Datsets\Taller_1</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>ruta <span class="op">=</span> <span class="st">'./listings.csv'</span></span></code></pre></div>
</div>
<div id="cell-7" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Compado para cargar archivos en formato texto (csv)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data<span class="op">=</span>pd.read_csv(ruta, sep<span class="op">=</span><span class="st">','</span>)</span></code></pre></div>
</div>
<div id="cell-8" class="cell" data-scrolled="true" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Comando Para obtener una primera vista de la tabla</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data.head(<span class="dv">3</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">host_id</th>
<th data-quarto-table-cell-role="th">host_name</th>
<th data-quarto-table-cell-role="th">neighbourhood_group</th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">number_of_reviews</th>
<th data-quarto-table-cell-role="th">last_review</th>
<th data-quarto-table-cell-role="th">reviews_per_month</th>
<th data-quarto-table-cell-role="th">calculated_host_listings_count</th>
<th data-quarto-table-cell-role="th">availability_365</th>
<th data-quarto-table-cell-role="th">number_of_reviews_ltm</th>
<th data-quarto-table-cell-role="th">license</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>621960198566758900</td>
<td>The Historic Jesse Buel Farmhouse w/ Heated Pool</td>
<td>382970529</td>
<td>Thomas</td>
<td>NaN</td>
<td>FOURTEENTH WARD</td>
<td>42.66762</td>
<td>-73.79919</td>
<td>Entire home/apt</td>
<td>882.0</td>
<td>1</td>
<td>15</td>
<td>2025-02-06</td>
<td>0.47</td>
<td>12</td>
<td>330</td>
<td>8</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>932642358896439621</td>
<td>Stylish top floor apt w/parking</td>
<td>232967878</td>
<td>Diana</td>
<td>NaN</td>
<td>THIRTEENTH WARD</td>
<td>42.67224</td>
<td>-73.79301</td>
<td>Entire home/apt</td>
<td>106.0</td>
<td>1</td>
<td>37</td>
<td>2025-02-15</td>
<td>1.88</td>
<td>23</td>
<td>86</td>
<td>26</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>53567589</td>
<td>Private Garden Apt in Downtown Albany|Pets All...</td>
<td>433096110</td>
<td>Brian</td>
<td>NaN</td>
<td>SIXTH WARD</td>
<td>42.65204</td>
<td>-73.76655</td>
<td>Entire home/apt</td>
<td>99.0</td>
<td>1</td>
<td>251</td>
<td>2025-02-23</td>
<td>6.40</td>
<td>4</td>
<td>341</td>
<td>73</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="lectura-desde-carpeta-local-de-un-archivo-en-formato-excel" class="level4">
<h4 class="anchored" data-anchor-id="lectura-desde-carpeta-local-de-un-archivo-en-formato-excel">Lectura desde carpeta local de un archivo en formato excel</h4>
<div id="cell-10" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Comando para cargue d archivos en formato Excel</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>ruta <span class="op">=</span> <span class="st">'./listings.xlsx'</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>data<span class="op">=</span>pd.read_excel(ruta)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>data.head(<span class="dv">4</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">host_id</th>
<th data-quarto-table-cell-role="th">host_name</th>
<th data-quarto-table-cell-role="th">neighbourhood_group</th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">number_of_reviews</th>
<th data-quarto-table-cell-role="th">last_review</th>
<th data-quarto-table-cell-role="th">reviews_per_month</th>
<th data-quarto-table-cell-role="th">calculated_host_listings_count</th>
<th data-quarto-table-cell-role="th">availability_365</th>
<th data-quarto-table-cell-role="th">number_of_reviews_ltm</th>
<th data-quarto-table-cell-role="th">license</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>621960198566758912</td>
<td>The Historic Jesse Buel Farmhouse w/ Heated Pool</td>
<td>382970529</td>
<td>Thomas</td>
<td>NaN</td>
<td>FOURTEENTH WARD</td>
<td>42.66762</td>
<td>-73.79919</td>
<td>Entire home/apt</td>
<td>882.0</td>
<td>1</td>
<td>15</td>
<td>2025-02-06</td>
<td>0.47</td>
<td>12</td>
<td>330</td>
<td>8</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>932642358896439680</td>
<td>Stylish top floor apt w/parking</td>
<td>232967878</td>
<td>Diana</td>
<td>NaN</td>
<td>THIRTEENTH WARD</td>
<td>42.67224</td>
<td>-73.79301</td>
<td>Entire home/apt</td>
<td>106.0</td>
<td>1</td>
<td>37</td>
<td>2025-02-15</td>
<td>1.88</td>
<td>23</td>
<td>86</td>
<td>26</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>53567589</td>
<td>Private Garden Apt in Downtown Albany|Pets All...</td>
<td>433096110</td>
<td>Brian</td>
<td>NaN</td>
<td>SIXTH WARD</td>
<td>42.65204</td>
<td>-73.76655</td>
<td>Entire home/apt</td>
<td>99.0</td>
<td>1</td>
<td>251</td>
<td>2025-02-23</td>
<td>6.40</td>
<td>4</td>
<td>341</td>
<td>73</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>20671966</td>
<td>The Metropolitan</td>
<td>98744672</td>
<td>Bela</td>
<td>NaN</td>
<td>NINTH WARD</td>
<td>42.65532</td>
<td>-73.78244</td>
<td>Entire home/apt</td>
<td>58.0</td>
<td>2</td>
<td>46</td>
<td>2025-01-19</td>
<td>0.51</td>
<td>8</td>
<td>248</td>
<td>7</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Como se puede observar en la vista anterior, la primera columna no tiene nombre, esto es por que el data frame de pandas asigna un índice, el cual nos puede ayudar a realizar algunas consultas posteriormente <br> <br> Una vez se han cargado los datos se debe realizar un primer diagnóstico. <br> Identifique cuál es el tipo de variables que contiene el archivo, si la herramienta cargó correctamente los datos, la cantidad, formatos, valores etc. <br> <br> Con su equipo haga una breve descripción del dataset cargado. Utilice los siguientes comandos para hacer la exploración</p>
<div id="cell-12" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Relaciona la cantidad de registros y variables que contiene el dataset</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>data.shape</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>(424, 18)</code></pre>
</div>
</div>
<div id="cell-13" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Lista todas las variables que contiene el dataset y especifica el tipo de dato</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data.dtypes</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>id                                         int64
name                                      object
host_id                                    int64
host_name                                 object
neighbourhood_group                      float64
neighbourhood                             object
latitude                                 float64
longitude                                float64
room_type                                 object
price                                    float64
minimum_nights                             int64
number_of_reviews                          int64
last_review                       datetime64[ns]
reviews_per_month                        float64
calculated_host_listings_count             int64
availability_365                           int64
number_of_reviews_ltm                      int64
license                                  float64
dtype: object</code></pre>
</div>
</div>
<div id="cell-14" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Exploración de variables continuas</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Vamos a filtras las variables a analizar</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Para el ejercicio complemente con las variables faltantes que puedan ser de interés.</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>data_continuas<span class="op">=</span>data.loc[:, [<span class="st">'price'</span>,<span class="st">'minimum_nights'</span>, <span class="st">'availability_365'</span>]]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>data_continuas.head()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">availability_365</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>882.0</td>
<td>1</td>
<td>330</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>106.0</td>
<td>1</td>
<td>86</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>99.0</td>
<td>1</td>
<td>341</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>58.0</td>
<td>2</td>
<td>248</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>50.0</td>
<td>2</td>
<td>340</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-15" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cómo se comporta la variable precio - analice el resultado</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>data_continuas[<span class="st">'price'</span>].describe()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>count    374.000000
mean     110.042781
std       86.746145
min       24.000000
25%       68.000000
50%       93.000000
75%      122.750000
max      882.000000
Name: price, dtype: float64</code></pre>
</div>
</div>
<div id="cell-16" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ahora vamos a generar las estadísticas descriptivas para todas las variables a la vez.</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Analice el resultado</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>variables_continuas <span class="op">=</span> [<span class="st">'price'</span>,<span class="st">'minimum_nights'</span>, <span class="st">'availability_365'</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>estadisticas <span class="op">=</span> data[variables_continuas].describe().T</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostramos las estadísticas</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Estadísticas descriptivas"</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(estadisticas)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Estadísticas descriptivas
                  count        mean         std   min     25%    50%     75%  \
price             374.0  110.042781   86.746145  24.0   68.00   93.0  122.75   
minimum_nights    424.0    5.693396    9.627107   1.0    1.00    2.0    3.00   
availability_365  424.0  233.261792  119.275432   0.0  119.75  268.0  341.25   

                    max  
price             882.0  
minimum_nights     70.0  
availability_365  365.0  </code></pre>
</div>
</div>
<div id="cell-17" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>data_continuas.info()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 424 entries, 0 to 423
Data columns (total 3 columns):
 #   Column            Non-Null Count  Dtype  
---  ------            --------------  -----  
 0   price             374 non-null    float64
 1   minimum_nights    424 non-null    int64  
 2   availability_365  424 non-null    int64  
dtypes: float64(1), int64(2)
memory usage: 10.1 KB</code></pre>
</div>
</div>
<div id="cell-18" class="cell" data-scrolled="true" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ahora vamos a analizar el comportamiento de manera gráfica para lo cual cargamos la librería</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogramas de frecuencia</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>data[variables_continuas].hist(<span class="st">'price'</span>, figsize<span class="op">=</span>(<span class="dv">3</span>, <span class="dv">3</span>), bins<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Analiza el resultado y explora el código para mejorar el gráfico</span></span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-19" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ahora probemos otra sintáxis</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>data[data[<span class="st">'price'</span>] <span class="op">&lt;=</span> <span class="dv">200</span>][<span class="st">'price'</span>].hist(figsize<span class="op">=</span>(<span class="dv">3</span>, <span class="dv">3</span>), bins<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Histograma de price (&lt;= 200)'</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Price'</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frecuencia'</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Analiza el resultado y comparte tus conclusiones.</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co">#Compara las dos sintaxis, que observas?</span></span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-20" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>data_continuas2<span class="op">=</span>data.loc[:, [<span class="st">'price'</span>,<span class="st">'neighbourhood'</span>]]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>data_continuas2.head(<span class="dv">10</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>882.0</td>
<td>FOURTEENTH WARD</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>106.0</td>
<td>THIRTEENTH WARD</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>99.0</td>
<td>SIXTH WARD</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>58.0</td>
<td>NINTH WARD</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>50.0</td>
<td>NINTH WARD</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>93.0</td>
<td>SIXTH WARD</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>156.0</td>
<td>FOURTEENTH WARD</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>142.0</td>
<td>FOURTEENTH WARD</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>96.0</td>
<td>SIXTH WARD</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>88.0</td>
<td>SIXTH WARD</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-21" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculamos la frecuencia por cada valor que toma la variable</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>frecuencia_neighbourhood <span class="op">=</span> data_continuas2[<span class="st">'neighbourhood'</span>].value_counts()</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(frecuencia_neighbourhood)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>neighbourhood
SIXTH WARD         96
SECOND WARD        51
TENTH WARD         44
THIRTEENTH WARD    42
THIRD WARD         39
NINTH WARD         32
FOURTEENTH WARD    24
FIFTEENTH WARD     18
SEVENTH WARD       16
ELEVENTH WARD      15
FOURTH WARD        14
EIGHTH WARD        11
FIRST WARD          9
FIFTH WARD          7
TWELFTH WARD        6
Name: count, dtype: int64</code></pre>
</div>
</div>
<div id="cell-22" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>plot_frec_abs <span class="op">=</span> data_continuas2[<span class="st">'neighbourhood'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, title<span class="op">=</span><span class="st">'Frecuencia de neighbourhood'</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'neighbourhood'</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frecuencia absoluta'</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-23" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ahora vamos a realizar el análisis con los boxplot</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>data_continuas2.boxplot(<span class="st">'price'</span>,by<span class="op">=</span><span class="st">"neighbourhood"</span>, figsize<span class="op">=</span>(<span class="dv">5</span>,<span class="dv">5</span>))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="vamos-a-revisar-lo-que-hemos-aprendido-hasta-acá" class="level2">
<h2 class="anchored" data-anchor-id="vamos-a-revisar-lo-que-hemos-aprendido-hasta-acá">Vamos a revisar lo que hemos aprendido hasta acá</h2>
<section id="qué-información-nos-proporcionan-las-estadísticas-descriptivas" class="level4">
<h4 class="anchored" data-anchor-id="qué-información-nos-proporcionan-las-estadísticas-descriptivas">¿Qué información nos proporcionan las estadísticas descriptivas?</h4>
</section>
<section id="qué-información-nos-proporcionan-los-gráficos" class="level4">
<h4 class="anchored" data-anchor-id="qué-información-nos-proporcionan-los-gráficos">¿Qué información nos proporcionan los gráficos?</h4>
</section>
<section id="cómo-cientifico-de-datos-cuál-es-tu-recomendación-del-método-a-utilizar-para-analizar-variables-continuas" class="level4">
<h4 class="anchored" data-anchor-id="cómo-cientifico-de-datos-cuál-es-tu-recomendación-del-método-a-utilizar-para-analizar-variables-continuas">Cómo cientifico de datos cuál es tu recomendación del método a utilizar para analizar variables continuas?</h4>
<div id="cell-25" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ahora vamos a explorar un tipo de gráfico que combina los dos métodos.</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>data[data[<span class="st">'price'</span>]<span class="op">&lt;=</span><span class="dv">100</span>].boxplot(<span class="st">'price'</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Boxplot de Price (&lt;= 100)'</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Price'</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ahora-vamos-a-analizar-las-variables-categóricas" class="level3">
<h3 class="anchored" data-anchor-id="ahora-vamos-a-analizar-las-variables-categóricas">Ahora vamos a analizar las variables categóricas</h3>
<div id="cell-27" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Seleccionamos en el dataset las variables categóricas de interés</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>variables_categoricas <span class="op">=</span> [<span class="st">'neighbourhood'</span>,<span class="st">'room_type'</span>]</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculamos la frecuencia por cada valor que toma la variable</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>frecuencia_neighbourhood <span class="op">=</span> data[<span class="st">'room_type'</span>].value_counts()</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(frecuencia_neighbourhood)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>room_type
Entire home/apt    308
Private room       116
Name: count, dtype: int64</code></pre>
</div>
</div>
<div id="cell-28" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>plot_frec_abs <span class="op">=</span> data[<span class="st">'room_type'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, title<span class="op">=</span><span class="st">'Frecuencia de neighbourhood'</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'room_type'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Frecuencia absoluta'</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Replique el ejercicio para la vaiable room_type</p>
<div id="cell-30" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Esta sintaxis permite generar la tabla de frecuencias para las dos variables a la vez</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> variables_categoricas:</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Frecuencia de valores en la variable '</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">':"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(data[col].value_counts())</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"-"</span><span class="op">*</span><span class="dv">40</span> <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Frecuencia de valores en la variable 'neighbourhood':
neighbourhood
SIXTH WARD         96
SECOND WARD        51
TENTH WARD         44
THIRTEENTH WARD    42
THIRD WARD         39
NINTH WARD         32
FOURTEENTH WARD    24
FIFTEENTH WARD     18
SEVENTH WARD       16
ELEVENTH WARD      15
FOURTH WARD        14
EIGHTH WARD        11
FIRST WARD          9
FIFTH WARD          7
TWELFTH WARD        6
Name: count, dtype: int64

----------------------------------------

Frecuencia de valores en la variable 'room_type':
room_type
Entire home/apt    308
Private room       116
Name: count, dtype: int64

----------------------------------------
</code></pre>
</div>
</div>
<div id="cell-31" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ahora descubre que pasa con esta sintaxis</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>frecuencia_neighbourhood <span class="op">=</span> data[variables_categoricas].value_counts()</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(frecuencia_neighbourhood)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>neighbourhood    room_type      
SIXTH WARD       Entire home/apt    83
SECOND WARD      Entire home/apt    45
THIRD WARD       Entire home/apt    33
TENTH WARD       Private room       25
THIRTEENTH WARD  Entire home/apt    23
TENTH WARD       Entire home/apt    19
THIRTEENTH WARD  Private room       19
NINTH WARD       Entire home/apt    17
                 Private room       15
SEVENTH WARD     Entire home/apt    15
FOURTEENTH WARD  Entire home/apt    14
FIFTEENTH WARD   Entire home/apt    14
SIXTH WARD       Private room       13
FOURTH WARD      Entire home/apt    12
FOURTEENTH WARD  Private room       10
ELEVENTH WARD    Private room        9
FIRST WARD       Entire home/apt     9
EIGHTH WARD      Entire home/apt     8
SECOND WARD      Private room        6
THIRD WARD       Private room        6
ELEVENTH WARD    Entire home/apt     6
FIFTH WARD       Entire home/apt     5
TWELFTH WARD     Entire home/apt     5
FIFTEENTH WARD   Private room        4
EIGHTH WARD      Private room        3
FOURTH WARD      Private room        2
FIFTH WARD       Private room        2
SEVENTH WARD     Private room        1
TWELFTH WARD     Private room        1
Name: count, dtype: int64</code></pre>
</div>
</div>
<div id="cell-32" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Mejoremos la visualización, pero antes filtremos el dataset para simplificar el código</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>data_categoricas<span class="op">=</span>data.loc[:, [<span class="st">'neighbourhood'</span>,<span class="st">'room_type'</span>]]</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>Tabla <span class="op">=</span> pd.crosstab(index<span class="op">=</span>data_categoricas.neighbourhood,columns<span class="op">=</span>data_categoricas[<span class="st">"room_type"</span>])</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>Tabla</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Se obtuvo el mismo resultado?</span></span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">Entire home/apt</th>
<th data-quarto-table-cell-role="th">Private room</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">neighbourhood</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">EIGHTH WARD</td>
<td>8</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ELEVENTH WARD</td>
<td>6</td>
<td>9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">FIFTEENTH WARD</td>
<td>14</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">FIFTH WARD</td>
<td>5</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">FIRST WARD</td>
<td>9</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">FOURTEENTH WARD</td>
<td>14</td>
<td>10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">FOURTH WARD</td>
<td>12</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">NINTH WARD</td>
<td>17</td>
<td>15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">SECOND WARD</td>
<td>45</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">SEVENTH WARD</td>
<td>15</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">SIXTH WARD</td>
<td>83</td>
<td>13</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">TENTH WARD</td>
<td>19</td>
<td>25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">THIRD WARD</td>
<td>33</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">THIRTEENTH WARD</td>
<td>23</td>
<td>19</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">TWELFTH WARD</td>
<td>5</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupamos por la variable 'v' y contamos ocurrencias</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>conteo <span class="op">=</span> data_categoricas[<span class="st">'room_type'</span>].value_counts()</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos el gráfico de torta</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>conteo.plot.pie(autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>, startangle<span class="op">=</span><span class="dv">90</span>, figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">6</span>))</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Opcional: agregar título</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribución de la variable Room Type'</span>)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminar el eje Y que se añade por defecto</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">''</span>)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar el gráfico</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-25-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="análisis-bivariado-variables-continuas-vs-variables-categóricas" class="level2">
<h2 class="anchored" data-anchor-id="análisis-bivariado-variables-continuas-vs-variables-categóricas">Análisis bivariado (Variables continuas vs Variables categóricas)</h2>
<p>Ahora vamos a integrar los dos tipos de variables en el análisis</p>
<div id="cell-35" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Exploración de variables continuas y categórica a través de análisi bivariados.</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Vamos a filtras las variables a analizar</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>data_bivariado<span class="op">=</span>data.loc[:, [<span class="st">'price'</span>,<span class="st">'minimum_nights'</span>, <span class="st">'availability_365'</span>, <span class="st">'room_type'</span>, <span class="st">'neighbourhood'</span>]]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>data_bivariado.head()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">availability_365</th>
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>882.0</td>
<td>1</td>
<td>330</td>
<td>Entire home/apt</td>
<td>FOURTEENTH WARD</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>106.0</td>
<td>1</td>
<td>86</td>
<td>Entire home/apt</td>
<td>THIRTEENTH WARD</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>99.0</td>
<td>1</td>
<td>341</td>
<td>Entire home/apt</td>
<td>SIXTH WARD</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>58.0</td>
<td>2</td>
<td>248</td>
<td>Entire home/apt</td>
<td>NINTH WARD</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>50.0</td>
<td>2</td>
<td>340</td>
<td>Private room</td>
<td>NINTH WARD</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-36" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#El siguiente código nos permite responder a la pregunta de ¿Cuál es el precio promedio de alquiler por tipo de habitación?</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>data_bivariado.pivot_table(values<span class="op">=</span><span class="st">'price'</span>,columns<span class="op">=</span><span class="st">'room_type'</span>,aggfunc<span class="op">=</span><span class="st">"mean"</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">Entire home/apt</th>
<th data-quarto-table-cell-role="th">Private room</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">price</td>
<td>125.02</td>
<td>69.56</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-37" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ahora vamos a ajustar la sintaxis para obtener distintas métricas para la misma variable</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>data_bivariado.pivot_table(values<span class="op">=</span><span class="st">'price'</span>,columns<span class="op">=</span><span class="st">'room_type'</span>,aggfunc<span class="op">=</span>[<span class="st">"mean"</span>, <span class="st">"median"</span>, <span class="st">"std"</span>]).<span class="bu">round</span>(<span class="dv">2</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th colspan="2" data-quarto-table-cell-role="th" data-halign="left">mean</th>
<th colspan="2" data-quarto-table-cell-role="th" data-halign="left">median</th>
<th colspan="2" data-quarto-table-cell-role="th" data-halign="left">std</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">Entire home/apt</th>
<th data-quarto-table-cell-role="th">Private room</th>
<th data-quarto-table-cell-role="th">Entire home/apt</th>
<th data-quarto-table-cell-role="th">Private room</th>
<th data-quarto-table-cell-role="th">Entire home/apt</th>
<th data-quarto-table-cell-role="th">Private room</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">price</td>
<td>125.02</td>
<td>69.56</td>
<td>101.0</td>
<td>56.0</td>
<td>94.17</td>
<td>40.98</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-38" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mejoremos la visualización</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>tabla<span class="op">=</span>data_bivariado.pivot_table(values<span class="op">=</span><span class="st">'price'</span>,columns<span class="op">=</span><span class="st">'room_type'</span>,aggfunc<span class="op">=</span>[<span class="st">'mean'</span>, <span class="st">'median'</span>, <span class="st">'std'</span>]).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>tabla_final <span class="op">=</span> tabla.stack(level<span class="op">=</span><span class="dv">1</span>, future_stack<span class="op">=</span><span class="va">True</span>).reset_index()</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tabla_final)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  level_0        room_type    mean  median    std
0   price  Entire home/apt  125.02   101.0  94.17
1   price     Private room   69.56    56.0  40.98</code></pre>
</div>
</div>
<div id="cell-39" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ahora vamos a incluir más variables continuas</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>tabla_multi <span class="op">=</span> data_bivariado.pivot_table(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    values<span class="op">=</span>[<span class="st">'price'</span>, <span class="st">'minimum_nights'</span>, <span class="st">'availability_365'</span>],</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span>[<span class="st">'room_type'</span>, <span class="st">'neighbourhood'</span>],</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    aggfunc<span class="op">=</span>[<span class="st">'mean'</span>, <span class="st">'median'</span>, <span class="st">'std'</span>]</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tabla_multi)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                            mean                         \
                                availability_365 minimum_nights   price   
room_type       neighbourhood                                             
Entire home/apt EIGHTH WARD               226.25           5.25  195.25   
                ELEVENTH WARD             242.33           1.83  114.20   
                FIFTEENTH WARD            317.93           5.64  221.50   
                FIFTH WARD                245.20           2.00  106.00   
                FIRST WARD                173.44           5.78  134.86   
                FOURTEENTH WARD           240.50           3.00  180.07   
                FOURTH WARD               230.83           4.42  118.57   
                NINTH WARD                257.29           7.71  151.80   
                SECOND WARD               214.76           2.42  125.55   
                SEVENTH WARD              213.13           6.07  104.00   
                SIXTH WARD                234.64           4.39   97.86   
                TENTH WARD                223.00           1.79  157.35   
                THIRD WARD                262.94          11.48   87.38   
                THIRTEENTH WARD           204.57           5.74  148.71   
                TWELFTH WARD              163.00           7.60  107.00   
Private room    EIGHTH WARD               169.00           1.00   62.33   
                ELEVENTH WARD             309.56           6.67   43.57   
                FIFTEENTH WARD            203.50           2.50   42.00   
                FIFTH WARD                364.50           8.00   93.00   
                FOURTEENTH WARD           142.00           4.10   60.80   
                FOURTH WARD               178.50           2.00   87.00   
                NINTH WARD                235.27           1.60   62.79   
                SECOND WARD               187.00           1.17   89.80   
                SEVENTH WARD              248.00           1.00   50.00   
                SIXTH WARD                277.00           1.77  125.40   
                TENTH WARD                248.60          16.16   68.95   
                THIRD WARD                256.17          10.50   51.80   
                THIRTEENTH WARD           209.84           9.95   63.00   
                TWELFTH WARD              268.00           2.00   54.00   

                                          median                        \
                                availability_365 minimum_nights  price   
room_type       neighbourhood                                            
Entire home/apt EIGHTH WARD                200.0            3.0  207.0   
                ELEVENTH WARD              262.5            2.0  104.0   
                FIFTEENTH WARD             334.0            1.0  181.5   
                FIFTH WARD                 357.0            2.0  106.5   
                FIRST WARD                 163.0            2.0  114.0   
                FOURTEENTH WARD            256.0            1.0  123.5   
                FOURTH WARD                284.5            1.0  104.0   
                NINTH WARD                 250.0            2.0  101.0   
                SECOND WARD                279.0            1.0  108.0   
                SEVENTH WARD               252.0            2.0  106.5   
                SIXTH WARD                 291.0            2.0   93.0   
                TENTH WARD                 318.0            1.0  118.0   
                THIRD WARD                 268.0            4.0   89.5   
                THIRTEENTH WARD            207.0            2.0  109.0   
                TWELFTH WARD               200.0            3.0  119.5   
Private room    EIGHTH WARD                140.0            1.0   53.0   
                ELEVENTH WARD              324.0            2.0   44.0   
                FIFTEENTH WARD             230.5            2.5   41.0   
                FIFTH WARD                 364.5            8.0   93.0   
                FOURTEENTH WARD            109.0            1.0   59.5   
                FOURTH WARD                178.5            2.0   87.0   
                NINTH WARD                 266.0            2.0   53.0   
                SECOND WARD                184.0            1.0   58.0   
                SEVENTH WARD               248.0            1.0   50.0   
                SIXTH WARD                 334.0            1.0  127.0   
                TENTH WARD                 300.0           18.0   56.0   
                THIRD WARD                 361.0            1.5   37.0   
                THIRTEENTH WARD            239.0            3.0   56.0   
                TWELFTH WARD               268.0            2.0   54.0   

                                             std                         
                                availability_365 minimum_nights   price  
room_type       neighbourhood                                            
Entire home/apt EIGHTH WARD               120.56           4.80   48.03  
                ELEVENTH WARD             121.40           0.75   21.64  
                FIFTEENTH WARD             64.16          10.36  142.56  
                FIFTH WARD                157.52           0.71   12.99  
                FIRST WARD                131.35           9.31   63.71  
                FOURTEENTH WARD            92.00           3.62  210.39  
                FOURTH WARD               113.02           8.76   27.99  
                NINTH WARD                 95.90          17.48  183.49  
                SECOND WARD               129.41           3.47   65.36  
                SEVENTH WARD              145.84           9.59   42.72  
                SIXTH WARD                126.84           7.73   27.44  
                TENTH WARD                140.31           1.44  109.35  
                THIRD WARD                 90.84          12.33   18.06  
                THIRTEENTH WARD           115.37          12.70  149.22  
                TWELFTH WARD              112.21          11.41   32.09  
Private room    EIGHTH WARD               182.24           0.00   16.17  
                ELEVENTH WARD              51.03           7.81    9.07  
                FIFTEENTH WARD            171.93           0.58    4.58  
                FIFTH WARD                  0.71           9.90     NaN  
                FOURTEENTH WARD            86.55           8.43    8.00  
                FOURTH WARD                 0.71           1.41   24.04  
                NINTH WARD                103.18           0.51   31.89  
                SECOND WARD               146.21           0.41   63.58  
                SEVENTH WARD                 NaN            NaN     NaN  
                SIXTH WARD                113.72           1.54   66.57  
                TENTH WARD                119.71          12.90   42.37  
                THIRD WARD                166.69          14.35   24.36  
                THIRTEENTH WARD           107.85          12.20   25.54  
                TWELFTH WARD                 NaN            NaN     NaN  </code></pre>
</div>
</div>
<div id="cell-40" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ahora vamos a realizar el análisis con los boxplot</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>data_bivariado.boxplot(<span class="st">'price'</span>,by<span class="op">=</span><span class="st">"room_type"</span>, figsize<span class="op">=</span>(<span class="dv">5</span>,<span class="dv">5</span>))</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="practica1_Ecopetrol_files/figure-html/cell-31-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-41" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df_private_room<span class="op">=</span> data[data[<span class="st">'room_type'</span>] <span class="op">==</span> <span class="st">'Private room'</span>]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>df_private_room.head(<span class="dv">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">host_id</th>
<th data-quarto-table-cell-role="th">host_name</th>
<th data-quarto-table-cell-role="th">neighbourhood_group</th>
<th data-quarto-table-cell-role="th">neighbourhood</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">room_type</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">minimum_nights</th>
<th data-quarto-table-cell-role="th">number_of_reviews</th>
<th data-quarto-table-cell-role="th">last_review</th>
<th data-quarto-table-cell-role="th">reviews_per_month</th>
<th data-quarto-table-cell-role="th">calculated_host_listings_count</th>
<th data-quarto-table-cell-role="th">availability_365</th>
<th data-quarto-table-cell-role="th">number_of_reviews_ltm</th>
<th data-quarto-table-cell-role="th">license</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>24606880</td>
<td>The Western Suite</td>
<td>98744672</td>
<td>Bela</td>
<td>NaN</td>
<td>NINTH WARD</td>
<td>42.65431</td>
<td>-73.78178</td>
<td>Private room</td>
<td>50.0</td>
<td>2</td>
<td>48</td>
<td>2025-02-27</td>
<td>0.62</td>
<td>8</td>
<td>340</td>
<td>9</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>937927979762952960</td>
<td>Hudson 4 at The Argus Hotel</td>
<td>526358730</td>
<td>Argus</td>
<td>NaN</td>
<td>TENTH WARD</td>
<td>42.66043</td>
<td>-73.77432</td>
<td>Private room</td>
<td>165.0</td>
<td>1</td>
<td>2</td>
<td>2024-10-12</td>
<td>0.33</td>
<td>12</td>
<td>300</td>
<td>2</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>937837897631191808</td>
<td>Hudson 2 at The Argus Hotel</td>
<td>526358730</td>
<td>Argus</td>
<td>NaN</td>
<td>SIXTH WARD</td>
<td>42.65867</td>
<td>-73.77479</td>
<td>Private room</td>
<td>165.0</td>
<td>1</td>
<td>2</td>
<td>2023-12-31</td>
<td>0.11</td>
<td>12</td>
<td>304</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>938271786418327552</td>
<td>Knickerbocker 3 The Argus Hotel</td>
<td>526358730</td>
<td>Argus</td>
<td>NaN</td>
<td>SIXTH WARD</td>
<td>42.65868</td>
<td>-73.77333</td>
<td>Private room</td>
<td>243.0</td>
<td>1</td>
<td>0</td>
<td>NaT</td>
<td>NaN</td>
<td>12</td>
<td>340</td>
<td>0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>937935210290408960</td>
<td>Hudson 5 at The Argus Hotel</td>
<td>526358730</td>
<td>Argus</td>
<td>NaN</td>
<td>SIXTH WARD</td>
<td>42.65847</td>
<td>-73.77272</td>
<td>Private room</td>
<td>161.0</td>
<td>1</td>
<td>5</td>
<td>2024-12-29</td>
<td>0.30</td>
<td>12</td>
<td>336</td>
<td>4</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="bonus-track" class="level2">
<h2 class="anchored" data-anchor-id="bonus-track">Bonus track</h2>
<section id="métricas-disponibles-en-numpy-para-variables-continuas" class="level4">
<h4 class="anchored" data-anchor-id="métricas-disponibles-en-numpy-para-variables-continuas">Métricas disponibles en numpy para variables continuas</h4>
</section>
<section id="estadísticas-básicas" class="level3">
<h3 class="anchored" data-anchor-id="estadísticas-básicas">📊 Estadísticas básicas</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 38%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Métrica</th>
<th>Descripción</th>
<th>Ejemplo en <code>aggfunc</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>np.mean</code></td>
<td>Media (promedio)</td>
<td><code>aggfunc=np.mean</code></td>
</tr>
<tr class="even">
<td><code>np.sum</code></td>
<td>Suma total</td>
<td><code>aggfunc=np.sum</code></td>
</tr>
<tr class="odd">
<td><code>np.min</code></td>
<td>Valor mínimo</td>
<td><code>aggfunc=np.min</code></td>
</tr>
<tr class="even">
<td><code>np.max</code></td>
<td>Valor máximo</td>
<td><code>aggfunc=np.max</code></td>
</tr>
<tr class="odd">
<td><code>np.median</code></td>
<td>Mediana</td>
<td><code>aggfunc=np.median</code></td>
</tr>
<tr class="even">
<td><code>np.std</code></td>
<td>Desviación estándar</td>
<td><code>aggfunc=np.std</code></td>
</tr>
<tr class="odd">
<td><code>np.var</code></td>
<td>Varianza</td>
<td><code>aggfunc=np.var       |</code></td>
</tr>
</tbody>
</table>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link" aria-label="Introducción">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Introducción</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../Taller_2/practica2_Ecopetrol_v1.html" class="pagination-link" aria-label="Sesión 2: Transformación  y aseguramiento de calidad">
        <span class="nav-page-text"><span class="chapter-title">Sesión 2: Transformación y aseguramiento de calidad</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>